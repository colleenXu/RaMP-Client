<div class="content-panel">
  <div fxLayout="row" fxLayoutAlign="space-around start">
    <div fxFlex="95">
      <h1 class="page-title">
        {{ title | titlecase }}
      </h1>
    </div>
  </div>
  <div fxLayout="row" fxLayoutAlign="space-around start">
    <div fxFlex="95">
      <ramp-description
        [supportedIds]="supportedIds"
        [description]="description"
        [function]="query?.functionCall"
      ></ramp-description>
    </div>
  </div>
  <mat-tab-group [color]="'accent'">
    <mat-tab [label]="'Input'">
      <br />
      <br />
      <br />
      <ramp-input-row
        [input]="input"
        [examples]="examples"
        (dataSearch)="fetchEnrichment($event)"
        (dataDownload)="fetchEnrichment($event)"
      >
      </ramp-input-row>
    </mat-tab>
    <mat-tab [disabled]="!classesAsDataProperty">
      <ng-template mat-tab-label>
        Chemical Classes
        {{ classesAsDataProperty ? classesAsDataProperty.length : '' }}
        <ramp-loading
          [isLoading]="classesLoading"
          [size]="'small'"
          [position]="'right'"
        ></ramp-loading>
      </ng-template>
      <ramp-query-page
        [dataColumns]="classesColumns"
        [dataAsDataProperty]="classesAsDataProperty"
        [matches]="matches"
      >
      </ramp-query-page>
    </mat-tab>
    <mat-tab [disabled]="!dataAsDataProperty">
      <ng-template mat-tab-label>
        Enriched Chemical Classes
        {{ dataAsDataProperty ? dataAsDataProperty.length : '' }}
        <ramp-loading
          [isLoading]="enrichmentLoading"
          [size]="'small'"
          [position]="'right'"
        ></ramp-loading>
      </ng-template>
      <ramp-query-page
        [dataColumns]="enrichmentColumns"
        [dataAsDataProperty]="dataAsDataProperty"
        [matches]="matches"
      >
      </ramp-query-page>
    </mat-tab>
  </mat-tab-group>
</div>
