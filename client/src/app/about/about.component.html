<div class="route-container">
    <h1 class="page-title">
        RaMP: Relational Database of Metabolomics Pathways
    </h1>
    <mat-card>
        <mat-card-content>
            <section #briefDescription>
                <h2>
                    About
                </h2>
                <div class="paragraph">
                    <span>RaMP (Relational database of Metabolomic Pathways) is a multi-sourced integrated database with comprehensive pathway, chemical, and ontology annoations for genes, proteins, and metabolites.  Information within RaMP is harmonized from the following data sources: </span>
                    <span *ngFor="let version of sourceVersions; index as i; last as isLast">
                        <a [attr.href]="version.dataSourceUrl" target="_blank">{{version.dataSourceName}}</a><span> {{version.dataSourceVersion}}</span>
                        <span *ngIf="!isLast">, </span>
                        <span *ngIf="isLast">.</span>
                    </span>
                </div>
                <div class="paragraph">
                    This web application allows users to interact with RaMP without any programming experience by performing basic queries on pathways, common reactions, ontologies, and chemical structures/classes.  The app also supports pathway and chemical class enrichment analysis (using Fisher's tests). To facilitate the interpretation of multi-omic data, users can input gene, protein, and metabolite IDs for queries and analyses. The inclusion of a mix of ID types as input is supported (e.g. users must prepend IDs with the source, such as hmdb:HMDB0000562).  Further details on which IDs are supported is provided for each query or analyses module.  
                </div>
                <div class="paragraph">
                    <!-- <mat-table [dataSource]="entityCounts">
                        <ng-container matColumnDef="entity">
                            <mat-header-cell *matHeaderCellDef>
                                <span>
                                    Entity
                                </span>
                            </mat-header-cell>
                            <mat-cell *matCellDef="let row">
                                <span>{{row.entity}}</span>
                            </mat-cell>
                        </ng-container>
                        <ng-container [matColumnDef]="column"
                            *ngFor="let column of entityCountsColumns.slice(1); index as index">
                            <mat-header-cell *matHeaderCellDef>
                                <span>
                                    {{column}}
                                </span>
                            </mat-header-cell>
                            <mat-cell *matCellDef="let row">
                                <span>{{row.counts[column] | number}}</span>
                            </mat-cell>
                        </ng-container>
                        <mat-header-row *matHeaderRowDef="entityCountsColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: entityCountsColumns;"></mat-row>
                    </mat-table> -->
                    <div class="table-graph-container">
                        <div class="responsive">
                            <h3>Data Sources</h3>
                            <table>
                                <thead>
                                    <tr>
                                        <th *ngFor="let column of entityCountsColumns; index as index" [innerHTML]="column | spaceToNewline"><div></div></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let entityCount of entityCounts">
                                        <td [innerHTML]="entityCount.entity | spaceToNewline" class="main"></td>
                                        <td *ngFor="let column of entityCountsColumns.slice(1); index as index">{{entityCount.counts[column] | number}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="functionality-flowchart">
                            <h3>Capabilities</h3>
                            <img src="/assets/images/Supported_Queries.png">
                        </div>
                    </div>
                </div>
                <div class="paragraph">
                    Of note, RaMP does not import all the information contained in these databases. Instead, RaMP includes pathway names and the genes and metabolites they include. RaMP is a work in progress and we will be expanding its content (reaction-level information, non-human compounds and genes, etc.).
                </div>
                <!-- <div>
                    <ul>
                        <li>
                            <a matLine routerLink="/pathway-enrichment-analysis">Perform a pathway enrichment analysis given a list of analyte names or IDs</a>,
                        <The inclusion of a mix of ID types as input is supported (e.g. users must prepend IDs with the source, such as hmdb:HMDB0000562).  Further details on which IDs are supported is provided for each query or analyses module.  >
                        <li>
                            <a matLine routerLink="/analytes-from-pathways">Retrieve the analytes involved in a given list of pathways</a>,
                        </li>
                        <li>
                            <a matLine routerLink="/pathways-from-analytes">Retrieve the pathways containing a given list of analytes</a>,
                        </li>
                        <li>
                            <a matLine routerLink="/common-reaction-analytes">Find the analytes involved in the same reaction</a>, and
                        </li>
                        <li>
                            <a matLine routerLink="ontologies">Find the ontologies for a given list of metabolites or viceversa</a>.
                        </li>
                    </ul>
                </div>
                <div class="paragraph functionality-flowchart">
                    <img src="/assets/images/ramp_flowchart.png">
                </div> -->
                <div class="paragraph">
                    More details can be found in <a href="http://www.mdpi.com/2218-1989/8/1/16" target="_blank">our manuscript</a>, and an example usage can be found in <a href="https://pubmed.ncbi.nlm.nih.gov/30725469/" target="_blank">this chapter</a>.
                </div>
            </section>
            <mat-divider></mat-divider>
            <section #summaryStatistics>
                <h2>
                    Summary Statistics
                </h2>
                <div class="upset-plots-container">
                    <div class="responsive">
                        <ramp-upset title="Metabolite Overlap" [intersections]="compoundsIntersections" [soloSets]="compoundsSoloSets" [allData]="compoundsAllData" scale="log">
                        </ramp-upset>
                    </div>
                    <div class="responsive">
                        <ramp-upset title="Gene Overlap" [intersections]="genesIntersections" [soloSets]="genesSoloSets" [allData]="genesAllData" scale="log">
                        </ramp-upset>
                    </div>
                </div>
            </section>
            <mat-divider></mat-divider>
            <section #citation>
                <h2>
                    Citations and resources
                </h2>
                <div class="paragraph">
                    If you use RaMP, please cite the following work:
                </div>
                <div class="paragraph">
                     <a href="https://www.mdpi.com/2218-1989/8/1/16" target="_blank">Zhang, B., et al., RaMP: A Comprehensive Relational Database of Metabolomics Pathways for Pathway Enrichment Analysis of Genes and Metabolites. Metabolites, 2018. 8(1). PMID: 29470400; PMCID: PMC5876005; DOI: 10.3390/metabo8010016</a>
                </div>
            </section>
            <mat-divider></mat-divider>
            <section #contact>
                <h2>
                   RaMP Team and Contact Info
                </h2>
                <ul> 
                    <li>
                        John Braisted
                    </li>
                    <li>
                        Ewy Math√©
                    </li>
                    <li>
                        Jorge Neyra
                    </li>
                    <li>
                        Andrew Patt
                    </li>
                    <li>
                        Tim Sheils
                    </li>
                    <li>
                        Kyle Spencer
                    </li>
                    <li>
                        Cole Tindall
                    </li>
                </ul>
                <div class="paragraph">
                    For questions or issues, please submit an issue on our GitHub site at <a href="https://github.com/ncats/RaMP-DB/issues" target="_blank">https://github.com/ncats/RaMP-DB</a> or send us an email to <a href="mailto:NCATSRaMP@nih.gov">NCATSRaMP@nih.gov</a>
                </div>
            </section>
        </mat-card-content>
    </mat-card>
</div>
